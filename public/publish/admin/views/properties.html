<div class="pu-properties">
  <h2 ng-bind="'PROPERTIES.TITLE' | translate"></h2>
  <div class="well well-lg" ng-bind="'PROPERTIES.INFO' | translate"></div>
  <p class="ng-hide" ng-show="!properties.length" ng-bind="'PROPERTIES.NO_PROPERTIES' | translate"></p>
  
  <div class="ng-hide" ng-show="properties.length">
  
    <div class="header pu-line even">
      <div class="col-xs-12 col-sm-10"><strong ng-bind="'PROPERTIES.NAME_COLUMN' | translate"></strong></div>
      <div class="hidden-xs col-sm-2 "><strong ng-bind="'PROPERTIES.ACTIONS_COLUMN' | translate"></strong></div>
    </div>
    
    <div class="pu-line " ng-repeat="property in properties" ng-class-odd="'odd'" ng-class-even="'even'">
      <div class="col-xs-12 col-sm-10" ng-click="togglePropertyDetails(property)">
        <span class="glyphicon" aria-hidden="true" ng-class="{'glyphicon-chevron-right' : !property.opened, 'glyphicon-chevron-down' : property.opened}"></span> <span>[[property.name]]</span>
      </div>
      <div class="hidden-xs col-sm-2 ">
        <div class="actions dropdown" ng-click="toggleSubMenu($event)">
          <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
          <ul class="dropdown-menu" role="menu">          
            <li role="presentation"><a role="menuitem" href="#" ng-click="removeProperty(property)" ng-bind="'PROPERTIES.REMOVE' | translate"></a></li>
          </ul>
        </div>
      </div>
      <div  ng-if="property.opened">
        <div class="pu-detail">
          <form ov-form name="propertyForm" ng-submit="propertyForm.$valid && saveProperty(propertyForm, property)" novalidate>
            <ul>
              
              <li class="form-inline">
                <div class="form-group">
                  <label class="strong"><span ng-bind="'PROPERTIES.ATTR_NAME' | translate"></span> : </label>
                  <ov-editable ov-value="property.name" ov-type="text" ng-class="{'has-error': propertyForm.name.$invalid && propertyForm.$submitted}">
                    <input type="text" ng-model="property.name" name="name" class="form-control" required ng-disabled="propertyForm.saving" />
                  </ov-editable>
                </div>
              </li>
              
              <li class="form-inline">
                <div class="form-group">
                  <label class="strong"><span ng-bind="'PROPERTIES.ATTR_DESCRIPTION' | translate"> : </span></label>
                  <ov-editable ov-value="property.description" ov-type="text" ng-class="{'has-error': propertyForm.description.$invalid && propertyForm.$submitted}">
                    <input type="text" ng-model="property.description" name="description" class="form-control" required ng-disabled="propertyForm.saving" />
                  </ov-editable>
                </div>
              </li>
              
              <li class="form-inline">
                <div class="form-group">
                  <label class="strong"><span ng-bind="'PROPERTIES.ATTR_TYPE' | translate"></span> : </label>
                  <ov-editable ov-value="property.type" ov-type="select" ng-class="{'has-error': propertyForm.type.$invalid && propertyForm.$submitted}">
                  <select class="form-control" ng-model="property.type" ng-options="type.value as (type.label | translate) for type in supportedTypes" ng-disabled="propertyForm.saving">
                  </select>
                  </ov-editable>
                </div>
              </li>

            </ul>
            
            <div class="btn-group" role="group" ng-show="!propertyForm.edition">
              <button type="button" ng-click="openEdition(propertyForm);" class="btn btn-primary" ng-bind="'PROPERTIES.FORM_EDIT' | translate"></button>
            </div>
            <div class="btn-group" role="group" ng-show="propertyForm.edition">
              <button type="button" ng-click="cancelEdition(propertyForm)" class="btn btn-default" ng-bind="'PROPERTIES.FORM_CANCEL' | translate" ng-disabled="property.saving"></button>
              <button ng-show="propertyForm.edition" type="submit" class="btn btn-primary" ng-bind="'PROPERTIES.FORM_SAVE' | translate" ng-disabled="property.saving"></button>
            </div>
          </form>
          
        </div>
      </div>      
    </div>
    
  </div>
  
  <hr/>
  

    <div class="col-xs-12 col-sm-6">
      <h4><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> <span ng-bind="'PROPERTIES.ADD_PROPERTY' | translate"></span></h4>
      <form class="form-horizontal" name="addPropertyForm" ng-submit="addPropertyForm.$valid && addProperty(addPropertyForm)" novalidate>
        
        <div class="form-group" ng-class="{'has-error': addPropertyForm.propertyName.$invalid && addPropertyForm.$submitted}">
          <label for="propertyName" ng-bind="'PROPERTIES.FORM_ADD_NAME' | translate"></label>
          <input type="text" name="propertyName" class="has-error form-control" id="propertyName" placeholder="[['PROPERTIES.FORM_ADD_NAME' | translate]]" ng-model="propertyName" ng-disabled="addPropertyForm.saving" required>
          <small><em ng-bind="'PROPERTIES.FORM_ADD_NAME_DESC' | translate"></em></small>
        </div>
        
        <div class="form-group" ng-class="{'has-error': addPropertyForm.propertyDescription.$invalid && addPropertyForm.$submitted}">
          <label for="propertyDescription" ng-bind="'PROPERTIES.FORM_ADD_DESCRIPTION' | translate"></label>
          <input type="text" name="propertyDescription" class="form-control" id="propertyDescription" placeholder="[['PROPERTIES.FORM_ADD_DESCRIPTION' | translate]]" ng-model="propertyDescription" ng-disabled="addPropertyForm.saving" required>
          <small><em ng-bind="'PROPERTIES.FORM_ADD_DESCRIPTION_DESC' | translate"></em></small>
        </div>
        
        <div class="form-group">
          <label for="propertyType" ng-bind="'PROPERTIES.FORM_ADD_TYPE' | translate"></label>
          <select class="form-control" ng-model="propertyType" ng-options="type.value as (type.label | translate) for type in supportedTypes" ng-disabled="addPropertyForm.saving"></select>
          <small><em ng-bind="'PROPERTIES.FORM_ADD_TYPE_DESC' | translate"></em></small>
        </div>
        
        <div class="form-group">
          <button type="submit" class="btn btn-primary" ng-bind="'PROPERTIES.FORM_ADD_BUTTON' | translate" ng-disabled="addPropertyForm.saving"></button>
        </div>
        
      </form>
    </div>

  
</div>